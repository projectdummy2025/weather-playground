SPESIFIKASI DESAIN & UX: CUMULUS WEATHER APP (FULL-STACK ALIGNED)
=================================================================

Dokumen ini adalah acuan desain pengalaman pengguna (User Experience) untuk Project Cumulus. Spesifikasi ini telah diselaraskan dengan kapabilitas Backend (Node.js/Express) dan struktur data BMKG, serta styling guide teknis yang sudah ada.

1. FILOSOFI DESAIN: "HYPER-LOCAL & EMOTIONAL CONNECTION"
--------------------------------------------------------
Cumulus memproses data hirarkis dari Provinsi hingga Desa, namun menyajikannya dengan sentuhan manusia.
Tujuan Desain:
1.  **Akurasi Lokasi:** Memanfaatkan struktur database MySQL (provinces -> villages) untuk presisi tinggi.
2.  **Kecepatan vs Kedalaman:** Menampilkan data cuaca instan (via Cache) sambil memuat narasi AI (via OpenRouter) di latar belakang.
3.  **Human-Centered Narrative:** Menghindari bahasa robotik. Data 3 hari dirangkai menjadi satu cerita yang mengalir, menenangkan, dan empatik.
4.  **Visualisasi Gelap (Technical):** Menggunakan basis `slate-900` dengan overlay gradient berlapis untuk kedalaman visual.

2. ALUR PENGGUNA & NAVIGASI LOKASI (SEARCH UX)
----------------------------------------------
Backend menyediakan endpoint `search-unified` yang optimal.

A. GLOBAL SEARCH (PRIMARY INTERACTION)
   * **Backend Endpoint:** `/api/search-unified`
   * **Visual Style:**
       -   Input: `bg-slate-800/60` dengan `backdrop-blur-sm`, border rounded-lg.
       -   Dropdown Hasil: `bg-slate-800/95` dengan `backdrop-blur-xl`, posisi absolute.
   * **UX Flow:**
       1.  User mengetik minimal 2 karakter.
       2.  UI menampilkan dropdown hasil campuran (Kabupaten, Kecamatan, Desa).
       3.  User memilih lokasi -> App reset state -> Panggil API.

B. HIERARCHICAL PICKER (FALLBACK)
   * **Visual Style:**
       -   Input Field: `bg-slate-700/50`, border `border-slate-600/50`.
       -   State Disabled: `opacity-40` dan `cursor-not-allowed`.
       -   Indikator: SVG Arrow dengan rotasi `rotate-180` saat aktif.
   * **Color Coding Borders:**
       -   Provinsi: Blue
       -   Kota/Kab: Emerald
       -   Kecamatan: Purple
       -   Desa: Amber

3. STRUKTUR TAMPILAN & DATA MAPPING
-----------------------------------

A. HERO SECTION: "REAL-TIME ATMOSPHERE"
   * **Layout:** `min-h-[85vh]` dengan grid responsif (`grid-cols-1 md:grid-cols-2`).
   * **Background System:**
       -   Layered Gradient: `bg-gradient-to-b from-slate-900/80 via-slate-900/90 to-slate-900`.
       -   Elemen Dekoratif: Posisi `absolute inset-0 pointer-events-none`.
   * **Animasi Khusus (CSS Keyframes):**
       -   `drift` (20s infinite): Untuk elemen background.
       -   `float` (6s infinite): Untuk ikon cuaca utama.
       -   `twinkle` (3s infinite): Untuk elemen dekoratif bintang/kilauan.
   * **Tipografi:**
       -   Heading Utama: Font `Montserrat` (`font-montserrat`), ukuran `text-3xl sm:text-4xl md:text-5xl lg:text-6xl`.

B. AI NARRATIVE SECTION: "THE WEATHER STORY"
   * **Endpoint:** `/api/explain-forecast`.
   * **Visual Container:**
       -   Background: `bg-gradient-to-br from-indigo-900/40 to-violet-900/40`.
       -   Border: `border border-indigo-500/30`, rounded `rounded-2xl`.
       -   Interaksi: `hover:bg-indigo-500/20` untuk efek halus.
   * **Content Styling (.ai-content class):**
       -   Format teks kaya (Rich Text) dirender dari Markdown.
       -   Warna Heading: Indigo pastel (`#c7d2fe`).
       -   Animasi Muncul: `fadeInUp` (Fade-in dari bawah).
   * **Tone:** Puitis, menenangkan, empatik (Radio Host Persona).

C. VISUALISASI CHART: "HOURLY TREND"
   * **Container:** Fixed height `h-80` agar grafik proporsional.
   * **Library:** Chart.js dalam elemen Canvas.
   * **Style:** Grid chart dihilangkan/ditipiskan agar menyatu dengan dark theme.

D. FORECAST TIMELINE: "SCROLLABLE CARDS"
   * **Container:** `overflow-x-auto` (Horizontal Scroll) dengan `custom-scrollbar`.
   * **Card Style:**
       -   Dimensi: Fixed width `w-32`, `flex-shrink-0`.
       -   Border: `border border-slate-700/80`.
       -   Background: `bg-slate-800/50`.
   * **Isi:**
       -   Ikon: Ukuran `w-12 h-12`, `drop-shadow-lg`.
       -   Teks Deskripsi: `line-clamp-2` (maksimal 2 baris).

4. ERROR HANDLING & FEEDBACK SYSTEM
-----------------------------------
* **Error Display Container:**
    -   Background: `bg-gradient-to-r from-red-500/20 to-rose-500/20`.
    -   Border: Red/Rose nuances.
* **Loading State:**
    -   Spinner: Dual-layered animation dengan `animation-delay-150`.
* **Pesan UI:** Tetap menggunakan bahasa manusiawi ("Maaf, cerita langit belum tertulis...").

5. SPESIFIKASI VISUAL DETIL (TAILWIND SYSTEM)
---------------------------------------------
Berdasarkan analisis teknis komponen (`project_summary.txt`):

A. PALET WARNA (DARK THEME PRESET)
   * **Primary Background:** `slate-900` (Canvas utama).
   * **Secondary Surface:** `slate-800` dengan variasi opacity (`/50`, `/60`, `/95`) untuk kartu dan dropdown.
   * **Text Colors:**
       -   Primary: White / `slate-50`
       -   Secondary: `slate-300` / `slate-400`
   * **Accents (Weather Metrics):**
       -   Temp: Orange
       -   Range: Blue
       -   Wind: Cyan
       -   Humidity: Teal

B. TYPOGRAPHY SYSTEM
   * **Font Family:**
       -   Headings: `Montserrat` (`font-montserrat`).
       -   Body/AI Text: System font / Sans-serif yang bersih.
   * **Scale:**
       -   Metrics Besar: `text-6xl` (Hero).
       -   Sub-metrics: `text-2xl sm:text-3xl`.
       -   Body: `text-sm` (Footer/Descriptions).

C. EFFECTS & UTILITIES
   * **Glassmorphism (Backdrop):**
       -   Standard: `backdrop-blur-sm`.
       -   Heavy (Dropdowns/Header): `backdrop-blur-xl`.
   * **Shadows:**
       -   `shadow-lg` untuk elemen melayang.
       -   `shadow-2xl` untuk dropdown menu agar terpisah dari background.
   * **Scrollbars:**
       -   Class `custom-scrollbar` (Webkit implementation) untuk area scroll horizontal dan dropdown.

6. RESPONSIVITAS & LAYOUT GRID
------------------------------
* **Header:** Sticky (`sticky top-0`), z-index `z-50`.
* **Grid Breakpoints:**
    -   **Mobile:** `grid-cols-1` (Stack vertical).
    -   **Tablet (md):** `grid-cols-2`.
    -   **Desktop (lg):** `grid-cols-4` (Untuk kartu cuaca dan filter lokasi).
* **Spacing:**
    -   Padding Container: `px-6 md:px-12`.
    -   Vertical Spacing: `pt-24 pb-12` (Hero). 